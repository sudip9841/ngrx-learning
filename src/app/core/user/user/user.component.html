
<div class="container mb-5">
    <!-- <app-datepicker></app-datepicker> -->
    <form [formGroup]="userForm">
        <div class="form-group mb-2">
          <label class="label" for="name">{{'name' | translate}}</label>
          <input type="text" class="form-control" id="name" formControlName="name">
            <ng-container *ngIf="userForm.get('name')?.errors && (userForm.get('name')?.touched || userForm.get('name')?.dirty)">
                <ng-container *ngIf="userForm.get('name')?.errors?.['required']">
                    <p class="text-danger">{{"nameRequired" | translate}}</p>
                </ng-container>
            </ng-container>
        </div>

        <div class="form-group mb-2">
            <label class="label" for="nameNp">{{'name' | translate}} ({{"nepali" | translate}})</label>
            <input type="text" class="form-control" id="nameNp" formControlName="nameNp">
              <ng-container *ngIf="userForm.get('nameNp')?.errors && (userForm.get('nameNp')?.touched || userForm.get('nameNp')?.dirty)">
                  <ng-container *ngIf="userForm.get('nameNp')?.errors?.['required']">
                      <p class="text-danger">{{"nameRequired" | translate}}</p>
                  </ng-container>
              </ng-container>
          </div>

        <div class="form-group mb-2">
            <label class="label" for="dob">{{"dob" | translate}}</label>
            <input formControlName="dob" appDatePicker type="text" id="config-demo" class="form-control" [singleDatePicker]="true" readonly>
            <ng-container *ngIf="userForm.get('dob')?.errors && (userForm.get('dob')?.touched || userForm.get('dob')?.dirty)">
                <ng-container *ngIf="userForm.get('dob')?.errors?.['required']">
                    <p class="text-danger">{{"dobRequired" | translate}}</p>
                </ng-container>
            </ng-container>
        </div>
        <!-- <div class="form-group mb-2">
            <label class="label" for="age">Age</label>
            <input readonly type="number" class="form-control" id="age" formControlName="age">
            <ng-container *ngIf="userForm.get('age')?.errors && (userForm.get('age')?.touched || userForm.get('age')?.dirty)">
                <ng-container *ngIf="userForm.get('age')?.errors?.['required']">
                    <p class="text-danger">Age is required.</p>
                </ng-container>
            </ng-container>
        </div> -->
        <div class="d-flex">
            <button [disabled]="!this.userForm.valid" class="btn btn-sm btn-primary mx-2" (click)="onAddUser()">{{this.userForm.get('id')?.value?'update':'add' | translate}}</button>
            <button class="btn btn-sm btn-danger" type="reset">{{'reset' | translate}}</button>
        </div>
    </form>
</div>

<!-- <table class="table">
    <thead>
      <tr>
        <th scope="col">{{"id" |translate}}</th>
        <th scope="col">{{"name" | translate}}</th>
        <th scope="col">{{"dob" | translate}}</th>
        <th scope="col">{{"age" | translate}}</th>
        <th scope="col">{{"action" |translate}}</th>
      </tr>
    </thead>
    <tbody>

    <ng-container *ngIf="loading$ | async; else showUsers">
        <p>Loading</p>
    </ng-container>
    

    
    <ng-template #showUsers>
        <ng-container *ngFor="let user of users$ | async">
                <tr>
                    <th>{{user?.id | engToNepNumber}}</th>
                    <th>{{user?.name | localLangChange : user?.nameNp}}</th>
                    <th>{{user?.dob | engToNepNumber}}</th>
                    <th>{{user?.age | engToNepNumber}}</th>
                    <th>
                        <button class="btn btn-success btn-sm mx-2" (click)="editUser(user)">{{'edit' | translate}}</button>
                        <button class="btn btn-danger btn-sm" (click)="deleteUser(user)">{{"delete" | translate}}</button>
                    </th>
                </tr>
        </ng-container>
    </ng-template>
    </tbody>
</table> -->

<app-data-table [manageColumns]="manageColumns" [dataSource]="dataSoruce"></app-data-table>

<!-- <div class="card">
    <div class="card-body">
        <app-home></app-home>
    </div>
</div> -->